<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="style.css">

    <style>
        .splash .wp-block-columns {
            display: flex;
            flex-direction: row;
        }

        .summer .wp-block-column {}

        .vinter .wp-block-column {}

        .container {
            display: flex;
            flex-direction: row;
        }
    </style>
</head>

<body>
    <!-- Global menu -->
    <header>
        <nav id="menu">
            <img id="logo" src="ihs_billedgalleri/logo.png">
            <div class="nav_links">
                <div class="dropdown">
                    <a class="drop_button" href="hoejskole.html">Højskole <span class="dropdown_arrow">▼</span></a>
                    <div class="dropdown_content">
                        <a href="">Forårssemester</a>
                        <a href="">Efterårssemester</a>
                        <a href="">Linjefag</a>
                        <a href="fag.html">Fag</a>
                        <a href="">Rejser</a>
                        <a href="">Priser</a>
                    </div>
                </div>
                <a href="">Ugekurser</a>
                <a href="">Erhverv</a>
                <a href="">Om IHS</a>
                <a href="">Kontakt</a>
                <a href="">Tilmeld</a>
            </div>
            <div class="burger">
                <div class="line1"></div>
                <div class="line2"></div>
                <div class="line3"></div>
            </div>
        </nav>
    </header>

    <main>

        <section class="splash">
            <div id="splash_content"></div>

        </section>
        <section class="quote_1">
            <div id=quote1_content></div>
        </section>
        <div Class="container">
            <section id="summer">
                <div id=summer_content></div>
            </section>
            <section class="vinter">
                <div id=vinter_content></div>
            </section>
        </div>
        <section class="quote_2">
            <div id=quote2_content></div>
        </section>
        <section class="find_your_course">
            <div id=finde_course_content></div>
        </section>
        <section class="quote_3">
            <div id=quote3_content></div>
        </section>
        <section class="travel_with">
            <div id=travel_content></div>
        </section>


        <template id="course_tmpl1">
            <article class="course">
                <img src="" alt="">
                <h3></h3>
            </article>
        </template>

        <template id="course_tmpl2">
            <article class="school_quote">
                <h2></h2>
                <p></p>
            </article>
        </template>

    </main>

    <footer>

    </footer>
    <script src="script.js"></script>
    <script>
        "use strict"

        let thePage;
        let theSchoolQuote;
        let theCourse;
        let tmpl1 = document.querySelector("#course_tmpl1").content;
        let tmpl2 = document.querySelector("#course_tmpl2").content;
        let courseElm = document.querySelector("#finde_course_content");
        let dest;

        document.addEventListener("DOMContentLoaded", start);

        function start() {
            console.log("start");
            getTheSplash();
            getThePageSummer();
            getThePageVinter();
            getThePageTravel();
            getTheCourse();
            getTheQuote();
        }


        //done
        // Henter WP pagen Højskole Splash
        async function getTheSplash() {
            console.log("getThePages");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/125";
            let jsonData = await fetch(url);
            let json = await jsonData.json();
            showSplash(json);
        }

        function showSplash(data) {
            console.log(data);
            document.querySelector("#splash_content").innerHTML = data.content.rendered;
        }

        // done
        // Henter WP pagen Højskole sommer
        async function getThePageSummer() {
            console.log("getThePageSummer");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/236";
            let jsonData = await fetch(url);
            let json = await jsonData.json();
            showPageSummer(json);
        }

        function showPageSummer(data) {
            console.log(data);
            document.querySelector("#summer_content").innerHTML = data.content.rendered;
        }


        //done
        // Henter WP pagen Højskole vinter
        async function getThePageVinter() {
            console.log("getThePageVinter");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/263";
            let jsonData = await fetch(url);
            let json = await jsonData.json();
            showPageVinter(json);
        }

        function showPageVinter(data) {
            console.log(data);
            document.querySelector("#vinter_content").innerHTML = data.content.rendered;
        }


        //done
        // Henter WP pagen Højskole rejser
        async function getThePageTravel() {
            console.log("getThePageTravel");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/285";
            let jsonData = await fetch(url);
            let json = await jsonData.json();
            showPageTravel(json);
        }

        function showPageTravel(data) {
            console.log(data);
            document.querySelector("#travel_content").innerHTML = data.content.rendered;
        }


        // Henter skole citaterne
        async function getTheQuote() {
            console.log("getTheCourses");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/hoejskolecitat";
            let jsonData = await fetch(url);
            theSchoolQuote = await jsonData.json();
            console.log(theSchoolQuote);
            showTheSchoolQuote(theSchoolQuote);
        }

        function showTheSchoolQuote(schoolQuotes) {
            console.log(schoolQuotes);


            schoolQuotes.forEach(schoolQuote => {
                if (schoolQuote.id == "305") {
                    let clone = tmpl2.cloneNode(true).content;
                    clone.querySelector("h2").textContent = schoolQuote.title.rendered;
                    clone.querySelector("p").textContent = course.vaerdisaet;
                    dest2.appendChild(schoolQuote.id)
                }
            })
        }





        // Done
        // Henter alle fagene
        async function getTheCourse() {
            console.log("getTheCategories");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/fag?per_page=100";
            let jsonData = await fetch(url);
            theCourse = await jsonData.json();
            console.log(theCourse);
            showTheCourses(theCourse);
        }

        function showTheCourses(courses) {
            console.log(courses);

            courses.forEach(course => {
                const clone = tmpl1.cloneNode(true);
                dest
                clone.querySelector("img").src = course.billede_1.guid;
                clone.querySelector("h3").textContent = course.title.rendered;
                courseElm.appendChild(clone);


            })

        }
    </script>
</body></html>
