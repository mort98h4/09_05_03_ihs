<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="style.css">

    <style>
        .splash .wp-block-columns {
            display: flex;
            flex-direction: row;
        }

        .summer .wp-block-column {}

        .vinter .wp-block-column {}

        .container {
            display: flex;
            flex-direction: row;
        }
    </style>
</head>

<body>
    <!-- Global menu -->
    <header>
        <nav id="menu">
            <img id="logo" src="ihs_billedgalleri/logo.png">
            <div class="nav_links">
                <div class="dropdown">
                    <a class="drop_button" href="hoejskole.html">Højskole <span class="dropdown_arrow">▼</span></a>
                    <div class="dropdown_content">
                        <a href="">Forårssemester</a>
                        <a href="">Efterårssemester</a>
                        <a href="">Linjefag</a>
                        <a href="fag.html">Fag</a>
                        <a href="">Rejser</a>
                        <a href="">Priser</a>
                    </div>
                </div>
                <a href="">Ugekurser</a>
                <a href="">Erhverv</a>
                <a href="">Om IHS</a>
                <a href="">Kontakt</a>
                <a href="">Tilmeld</a>
            </div>
            <div class="burger">
                <div class="line1"></div>
                <div class="line2"></div>
                <div class="line3"></div>
            </div>
        </nav>
    </header>
    <section id="splash_singleview">
        <h1></h1>
    </section>


    <main>
        <section class="splash">
            <div id="splash_content"></div>

        </section>

        <section id="quote_1">
            <article class="quote"></article>
        </section>

        <div Class="container">
            <section id="summer">
                <div id=summer_content></div>
            </section>
            <section id="vinter">
                <div id=vinter_content></div>
            </section>
        </div>

        <section id="quote_2">
            <article class="quote"></article>
        </section>

        <section class="find_your_course">
            <div id=finde_course_content></div>
        </section>

        <section id="quote_3">
            <article class="quote"></article>
        </section>

        <section class="travel_with">
            <div id=travel_content></div>
        </section>


        <template id="student_quote_tmpl2">
            <article class="quote">
                <h3></h3>
                <p></p>
            </article>
        </template>

    </main>

    <footer>

    </footer>
    <script src="script.js"></script>
    <script>
        "use strict"

        let thePage;
        let theSchoolQuote;
        let dest;

        document.addEventListener("DOMContentLoaded", start);

        function start() {
            console.log("start");
            getTheQuote();
            getTheSplash();
            getThePageSummer();
            getThePageVinter();
            getTheCourse();
            getThePageTravel();

        }


        //done
        // Henter WP pagen Højskole Splash
        async function getTheSplash() {
            console.log("getThePages");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/125";
            let jsonData = await fetch(url);
            let json = await jsonData.json();
            document.querySelector("#splash_singleview").style.backgroundImage = `url(${json.splash.guid})`;
            document.querySelector("h1").textContent = json.splash_overskrift;
            showSplash(json);
        }

        function showSplash(data) {
            console.log(data);
            document.querySelector("#splash_content").innerHTML = data.content.rendered;

        }

        // done
        // Henter WP pagen Højskole sommer
        async function getThePageSummer() {
            console.log("getThePageSummer");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/236";
            let jsonData = await fetch(url);
            let json = await jsonData.json();

            //henter baggrundsbillede
            document.querySelector("#summer").style.backgroundImage = `url(${json.baggrundsbillede.guid})`;
            showPageSummer(json);
        }

        function showPageSummer(data) {
            console.log(data);
            document.querySelector("#summer_content").innerHTML = data.content.rendered;
        }


        //done
        // Henter WP pagen Højskole vinter
        async function getThePageVinter() {
            console.log("getThePageVinter");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/263";
            let jsonData = await fetch(url);
            let json = await jsonData.json();

            //henter baggrundsbillede
            document.querySelector("#vinter").style.backgroundImage = `url(${json.baggrundsbillede.guid})`;
            showPageVinter(json);
        }

        function showPageVinter(data) {
            console.log(data);
            document.querySelector("#vinter_content").innerHTML = data.content.rendered;
        }

        //done
        // Henter WP pagen Højskole Kurser
        async function getTheCourse() {
            console.log("getThePageTravel");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/270";
            let jsonData = await fetch(url);
            let json = await jsonData.json();
            showPageCourse(json);
        }

        function showPageCourse(data) {
            console.log(data);
            document.querySelector("#finde_course_content").innerHTML = data.content.rendered;
        }

        //done
        // Henter WP pagen Højskole rejser
        async function getThePageTravel() {
            console.log("getThePageTravel");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/285";
            let jsonData = await fetch(url);
            let json = await jsonData.json();
            showPageTravel(json);
        }

        function showPageTravel(data) {
            console.log(data);
            document.querySelector("#travel_content").innerHTML = data.content.rendered;
        }


        //done
        // Henter elev citaterne
        async function getTheQuote() {
            console.log("getTheQuote");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/elevcitat";
            let jsonData = await fetch(url);
            let theStudentQuote = await jsonData.json();
            console.log(theStudentQuote);
            showTheStudentQuote(theStudentQuote);
        }

        function showTheStudentQuote(studentQuotes) {
            let dest1 = document.querySelector("#quote_1 .quote");
            let dest2 = document.querySelector("#quote_2 .quote");
            let dest3 = document.querySelector("#quote_3 .quote");
            let tmpl2 = document.querySelector("#student_quote_tmpl2");

            dest1.innerHTML = "";
            dest2.innerHTML = "";
            dest3.innerHTML = "";

            studentQuotes.forEach(studentQuote => {
                if (studentQuote.id == "303") {
                    let clone = tmpl2.cloneNode(true).content;
                    clone.querySelector("h3").textContent = studentQuote.citat;
                    clone.querySelector("p").textContent = studentQuote.title.rendered;
                    dest1.appendChild(clone);
                }
                if (studentQuote.id == "302") {
                    let clone = tmpl2.cloneNode(true).content;
                    clone.querySelector("h3").textContent = studentQuote.citat;
                    clone.querySelector("p").textContent = studentQuote.title.rendered;
                    dest2.appendChild(clone);
                }
                if (studentQuote.id == "300") {
                    let clone = tmpl2.cloneNode(true).content;
                    clone.querySelector("h3").textContent = studentQuote.citat;
                    clone.querySelector("p").textContent = studentQuote.title.rendered;
                    dest3.appendChild(clone);
                }

            })
        }
    </script>
</body></html>
