<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="style.css">

    <style>
        main {
            max-width: none;
        }

        #splash_index {
            width: 100vw;
            height: 100vh;
            background-size: cover;
        }

        #bg_video {
            display: none;
        }

        .splash_buttons_container {
            /*
            position: fixed;
            width: 100vw;
*/

        }

        .splash_buttons {
            display: flex;
            justify-content: flex-end;
            transform: rotate(90deg);
            /*
            position: fixed;
            right: -58vw;
            top: 50vh;
*/
            /*
            transform: rotate(90deg);
            z-index: 1;
*/
        }

        .splash_buttons button {
            position: fixed;
            color: #fff;
            height: 50px;
            width: 250px;
            margin: 30px;
            border: none;
            border-bottom-left-radius: 10px;
            border-bottom-right-radius: 10px;
        }

        .book {
            background-color: #f07958;
        }

        .become {
            background-color: #f0bd57;
        }

        #faellesskab {
            margin: 15px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        .faellesskab_group {
            padding: 50px;
        }

        .wp-block-video video {
            max-width: 90vw;
            height: auto;
        }

        .wp_button .wp-block-group__inner-container {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
        }

        .wp_text_button {
            padding-bottom: 10px;
            margin-bottom: 0px;
            border-bottom: solid 2px orange;
        }

        .kompetence {
            margin: 15px;
            display: flex;
            flex-wrap: wrap;
        }

        .kompetencer_group {
            padding: 50px;
        }

        .index_courses_heading {
            padding-bottom: 10px;
            margin-bottom: 0px;
            border-bottom: solid 2px orange;
        }

        .courses {
            display: flex;
            gap: 20px;
            padding: 20px;
            overflow-x: scroll;
            scroll-snap-type: x mandatory;
            cursor: pointer;
        }

        .course {
            flex-basis: 70%;
            flex-shrink: 0;
            height: 30vh;
            scroll-snap-align: center;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .course h3 {
            color: orange;
            margin: 10px;
            padding-bottom: 5px;
            border-bottom: solid 2px orange;
        }

        .course_arrow {
            color: orange;
            margin: 10px;
            padding: 5px 10px;
            border-radius: 100%;
            border: solid 2px orange;
        }

        #oplevelser {
            margin: 15px;
            display: flex;
            flex-wrap: wrap;
        }

        .oplevelser_group {
            padding: 50px;
        }

        #reviews {
            max-width: 1000px;
            position: relative;
            margin: auto;
        }

        /*.review {
            display: none;
        }*/

        .fade {
            animation-name: fade;
            animation-duration: 10s;
        }

        @keyframes fade {
            0% {
                transform: translateX(100%);
            }

            20% {
                transform: translateX(0%);
            }

            80% {
                transform: translateX(0%);
            }

            100% {
                transform: translateX(-100%);
            }
        }

        @media (min-width: 1024px) {
            #bg_video {
                width: 100vw;
                height: 100vh;
                object-fit: cover;
                position: absolute;
                z-index: -1;
            }

        }

    </style>
</head>

<body>
    <!-- Global menu -->
    <header>
        <nav id="menu">
            <img id="logo" src="ihs_billedgalleri/logo.png">
            <div class="nav_links">
                <div class="dropdown">
                    <a class="drop_button" href="hoejskole.html">Højskole <span class="dropdown_arrow">▼</span></a>
                    <div class="dropdown_content">
                        <a href="">Forårssemester</a>
                        <a href="">Efterårssemester</a>
                        <a href="">Linjefag</a>
                        <a href="fag.html">Fag</a>
                        <a href="rejser.html">Rejser</a>
                        <a href="">Priser</a>
                    </div>
                </div>
                <a href="">Ugekurser</a>
                <a href="">Erhverv</a>
                <a href="">Om IHS</a>
                <a href="">Kontakt</a>
                <a href="">Tilmeld</a>
            </div>
            <div class="burger">
                <div class="line1"></div>
                <div class="line2"></div>
                <div class="line3"></div>
            </div>
        </nav>
    </header>

    <!-- Splashbillede og velkomst tekst -->
    <section id="splash_index">
        <video autoplay muted loop id="bg_video" src="">
            <!--<source class="bg_video" src="" type="video/mp4">-->
        </video>
        <h1></h1>
        <div class="splash_buttons_container">
            <div class="splash_buttons">
                <button class="book">Book en rundvisning</button>
                <button class="become">Blev elev</button>
            </div>
        </div>
        <div class="arrow_down">ᐯ</div>
    </section>
    <section id="index_banner">

    </section>

    <!-- Indhold på forsiden -->
    <main>

        <!-- Fællesskab sektion -->
        <section id="faellesskab">

        </section>

        <!-- Kompetence sektion -->
        <section id="kompetence">
            <article class="kompetence"></article>
            <div class="courses"></div>
        </section>
        <!-- Oplevelser sektion -->
        <section id="oplevelser">

        </section>

        <!-- Sektion med "anbefalinger" fra tidligere elever -->
        <section id="reviews"></section>

        <!-- Templates -->
        <template class="courses_template">
            <article class="course">
                <h3></h3>
                <div class="course_arrow">ᐳ</div>
            </article>
        </template>
        <template class="review_template">
            <article class="review fade">
                <p class="quote">"<span class="quote_content"></span>"</p>
                <p class="student"></p>
            </article>
        </template>
    </main>

    <!-- Global footer -->
    <footer class="footer">
        <div class="footer__text container">
            <hr class="footer__hr">
        </div>

        <div class="footer__sections container">
            <div class="footer__section">
                <span class="footer__title">Kontakt</span>
                <a href="#" class="footer__link">Tel: </a>
                <a href="#" class="footer__link">Mail: info@ihs.dk </a>
                <a href="#" class="footer__link">Adresse: </a>
                <a href="#" class="footer__link">By: </a>
            </div>
            <div class="footer__section">
                <span class="footer__title">Sitemap</span>
                <a href="#" class="footer__link">Højskole</a>
                <a href="#" class="footer__link">Ugekurser</a>
                <a href="#" class="footer__link">Erhverv</a>
                <a href="#" class="footer__link">Tilmelding</a>
                <a href="#" class="footer__link">Om IHS</a>
                <a href="#" class="footer__link">Kontakt</a>
            </div>
            <div class="footer__section">
                <span class="footer__title">Sitemap</span>
                <a href="#" class="footer__link">Forsårshold</a>
                <a href="#" class="footer__link">Efterårshold</a>
                <a href="#" class="footer__link">Fag</a>
                <a href="#" class="footer__link">Priser</a>
                <a href="#" class="footer__link">FAQ</a>
            </div>
            <div class="footer__section">
                <span class="footer__title">Information</span>
                <a href="#" class="footer__link">Bestyrelse</a>
                <a href="#" class="footer__link">Vedtægter</a>
                <a href="#" class="footer__link">Årsplan</a>
                <a href="#" class="footer__link">Værdigrundlag</a>
                <a href="#" class="footer__link">Job</a>
            </div>

            <div class="footer_social">
                <a href=""><img src="ihs_billedgalleri/iconfinder_1_Facebook2_colored_svg_5296500.svg" alt="facebook"></a>
                <a href=""><img src="ihs_billedgalleri/iconfinder_1_Instagram_colored_svg_1_5296765.svg" alt="Instagram"></a>
                <a href=""><img src="ihs_billedgalleri/iconfinder_1_Youtube_colored_svg_5296521.svg" alt="YouTube"></a>
                <a href=""><img src="ihs_billedgalleri/iconfinder_1_Linkedin_unofficial_colored_svg_5296501.svg" alt="linkedin"></a>
            </div>

        </div>


    </footer>
    <script src="script.js"></script>
    <script>
        "use strict"

        let thePage;
        let theCourses;
        let theQuotes;
        let slideIndex = 0;

        document.addEventListener("DOMContentLoaded", start);

        function start() {
            console.log("start");
            getTheSplashPage();

        }

        async function getTheSplashPage() {
            console.log("getThePage");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/332";
            let jsonData = await fetch(url);
            thePage = await jsonData.json();
            console.log(thePage);

            document.querySelector("title").textContent = thePage.splash_overskrift;
            document.querySelector("#splash_index").style.backgroundImage = `url(${thePage.baggrundsbillede.guid})`;
            document.querySelector("#bg_video").src = thePage.splash.guid;
            document.querySelector("h1").textContent = thePage.splash_overskrift;
            document.querySelector("#index_banner").innerHTML = thePage.content.rendered;
            getTheFaellesskabPage();
        }

        async function getTheFaellesskabPage() {
            console.log("getTheFaellesskabPage");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/357";
            let jsonData = await fetch(url);
            thePage = await jsonData.json();
            console.log(thePage);

            document.querySelector("#faellesskab").innerHTML = thePage.content.rendered;

            getTheKompetencePage();
        }

        async function getTheKompetencePage() {
            console.log("getTheKompetencePage");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/371";
            let jsonData = await fetch(url);
            thePage = await jsonData.json();
            console.log(thePage);

            document.querySelector(".kompetence").innerHTML = thePage.content.rendered;

            getTheOplevelserPage();
            getTheCourses();
        }

        async function getTheCourses() {
            console.log("getTheCourses");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/fag?per_page=100";
            let jsonData = await fetch(url);
            theCourses = await jsonData.json();
            console.log(theCourses);

            showCourses();
        }

        async function getTheOplevelserPage() {
            console.log("getTheOplevelserPage");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/383";
            let jsonData = await fetch(url);
            thePage = await jsonData.json();
            console.log(thePage);

            document.querySelector("#oplevelser").innerHTML = thePage.content.rendered;

            getTheQuotes();
        }

        async function getTheQuotes() {
            console.log("getTheQuotes");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/elevcitat?per_page=100";
            let jsonData = await fetch(url);
            theQuotes = await jsonData.json();
            console.log(theQuotes);
            console.log("LOADING DONE");
            showQuotes();
        }

        function showCourses() {
            console.log("showCourses");
            let dest = document.querySelector(".courses");
            let temp = document.querySelector(".courses_template");

            dest.innerHTML = "";

            theCourses.forEach(course => {
                let clone = temp.cloneNode(true).content;
                clone.querySelector(".course").style.backgroundImage = `url(${course.billede_1.guid})`;
                clone.querySelector("h3").textContent = course.title.rendered;

                dest.appendChild(clone);
            })
        }

        function showQuotes() {
            console.log("showQuotes");
            let dest = document.querySelector("#reviews");
            let temp = document.querySelector(".review_template");

            dest.innerHTML = "";

            theQuotes.forEach(quote => {
                let clone = temp.cloneNode(true).content;

                clone.querySelector(".quote_content").textContent = quote.citat;
                clone.querySelector(".student").textContent = "- " + quote.elev;

                dest.appendChild(clone);
            })

            let slides = document.getElementsByClassName("review");
            for (let i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            slideIndex++;
            if (slideIndex > slides.length) {
                slideIndex = 1;
            }
            slides[slideIndex - 1].style.display = "block";
            setTimeout(showQuotes, 10000);
        }

    </script>
</body>

</html>
