<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Efterårssemester | Idrætshøjskolen Sønderborg</title>
    <link rel="stylesheet" href="style.css">

    <style>
        #course {
            grid-area: scrollbtn;
            display: grid;
            grid-gap: 1rem;
            grid-template-columns: 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem 20rem;
            overflow-x: scroll;
        }

        #splash {
            width: 100vw;
            height: 50vh;
            background-size: cover;
        }

        .travel_with .wp-block-columns {
            display: flex;
            flex-direction: row;
        }

        .quotation_begin,
        .quotation_end {
            width: 10rem;
        }
    </style>
</head>

<body>
    <!-- Global menu -->
    <header>
        <nav id="menu">
            <img id="logo" src="ihs_billedgalleri/logo.png">
            <div class="nav_links">
                <div class="dropdown">
                    <a class="drop_button" href="hoejskole.html">Højskole <span class="dropdown_arrow">▼</span></a>
                    <div class="dropdown_content">
                        <a href="foraarssemester.html">Forårssemester</a>
                        <a href="efteraarssemester.html">Efterårssemester</a>
                        <a href="">Linjefag</a>
                        <a href="fag.html">Fag</a>
                        <a href="rejser.html">Rejser</a>
                        <<<<<<< HEAD <a href="">Priser</a>
                            =======
                            <a href="priser.html">Priser</a>
                            >>>>>>> siwforår3
                    </div>
                </div>
                <a href="">Ugekurser</a>
                <a href="">Erhverv</a>
                <a href="">Om IHS</a>
                <a href="">Kontakt</a>
                <a href="">Tilmeld</a>
            </div>
            <div class="burger">
                <div class="line1"></div>
                <div class="line2"></div>
                <div class="line3"></div>
            </div>
        </nav>

    </header>
    <section id="splash">
        <h1></h1>
    </section>
    <main>
        <section class="splash">
            <div id="splash_content"></div>

        </section>

        <section id="quote_1">
            <article class="quote"></article>
        </section>

        <section id="course_section">
            <h2>Udforsk fagene</h2>
            <p>Now that there is the Tec-9, a crappy spray gun from South Miami. This gun is advertised as the most popular gun in American crime. Do you believe that shit? It actually says that in the little book that comes with it: the most popular gun in American crime. Like they're actually proud of that shit.</p>
            <div id="course"></div>
        </section>

        <section id="schedule">
            <div id="schedule"></div>
        </section>

        <section id="quote_2">
            <article class="quote"></article>
        </section>

        <section class="travel_with">
            <div id=travel_content></div>
        </section>

        <template class="course_template">
            <article class="category">
                <img src="" alt="">
                <h3 class="title"></h3>
                <p class="short_text"></p>
            </article>
        </template>

        <template id="student_quote_tmpl2">
            <article class="quote">
                <img class="quotation_begin" src="" alt="">
                <h3></h3>
                <p></p>
                <div class="quotation_end_container">
                    <img class="quotation_end" src="" alt="">
                </div>
            </article>
        </template>

    </main>
    <footer class="footer">
        <div class="footer__text container">
            <hr class="footer__hr">
        </div>

        <div class="footer__sections container">
            <div class="footer__section">
                <span class="footer__title">Kontakt</span>
                <a href="#" class="footer__link">Tel: </a>
                <a href="#" class="footer__link">Mail: info@ihs.dk </a>
                <a href="#" class="footer__link">Adresse: </a>
                <a href="#" class="footer__link">By: </a>
            </div>
            <div class="footer__section">
                <span class="footer__title">Sitemap</span>
                <a href="#" class="footer__link">Højskole</a>
                <a href="#" class="footer__link">Ugekurser</a>
                <a href="#" class="footer__link">Erhverv</a>
                <a href="#" class="footer__link">Tilmelding</a>
                <a href="#" class="footer__link">Om IHS</a>
                <a href="#" class="footer__link">Kontakt</a>
            </div>
            <div class="footer__section">
                <span class="footer__title">Sitemap</span>
                <a href="#" class="footer__link">Forsårshold</a>
                <a href="#" class="footer__link">Efterårshold</a>
                <a href="#" class="footer__link">Fag</a>
                <a href="#" class="footer__link">Priser</a>
                <a href="#" class="footer__link">FAQ</a>
            </div>
            <div class="footer__section">
                <span class="footer__title">Information</span>
                <a href="#" class="footer__link">Bestyrelse</a>
                <a href="#" class="footer__link">Vedtægter</a>
                <a href="#" class="footer__link">Årsplan</a>
                <a href="#" class="footer__link">Værdigrundlag</a>
                <a href="#" class="footer__link">Job</a>
            </div>
            <div class="footer_social">
                <a href=""><img src="ihs_billedgalleri/iconfinder_1_Facebook2_colored_svg_5296500.svg" alt="facebook"></a>
                <a href=""><img src="ihs_billedgalleri/iconfinder_1_Instagram_colored_svg_1_5296765.svg" alt="Instagram"></a>
                <a href=""><img src="ihs_billedgalleri/iconfinder_1_Youtube_colored_svg_5296521.svg" alt="YouTube"></a>
                <a href=""><img src="ihs_billedgalleri/iconfinder_1_Linkedin_unofficial_colored_svg_5296501.svg" alt="linkedin"></a>
            </div>
        </div>


    </footer>

    <script>
        "use strict"

        let tmpl1 = document.querySelector(".course_template").content;
        let courseElm = document.querySelector("#course");
        let theCourse;

        document.addEventListener("DOMContentLoaded", start);

        function start() {
            console.log("start");
            getTheQuote();
            getTheSplash();
            getTheCourse();
            getThePageSchedule();
            getThePageTravel();
        }

        //Virker men skal hente noget andet
        async function getTheSplash() {
            console.log("getThePages");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/337";
            let jsonData = await fetch(url);
            let json = await jsonData.json();
            document.querySelector("#splash").style.backgroundImage = `url(${json.splash.guid})`;
            document.querySelector("h1").textContent = json.splash_overskrift;
            showSplash(json);
        }

        function showSplash(data) {
            console.log(data);
            document.querySelector("#splash_content").innerHTML = data.content.rendered;

        }

        // henter citater
        async function getTheQuote() {
            console.log("getTheQuote");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/elevcitat";
            let jsonData = await fetch(url);
            let theStudentQuote = await jsonData.json();
            console.log(theStudentQuote);
            showTheStudentQuote(theStudentQuote);
        }

        function showTheStudentQuote(studentQuotes) {
            let dest1 = document.querySelector("#quote_1 .quote");
            let dest2 = document.querySelector("#quote_2 .quote");

            let tmpl2 = document.querySelector("#student_quote_tmpl2");

            dest1.innerHTML = "";
            dest2.innerHTML = "";


            studentQuotes.forEach(studentQuote => {
                if (studentQuote.id == "298") {
                    let clone = tmpl2.cloneNode(true).content;
                    clone.querySelector("h3").textContent = studentQuote.citat;
                    clone.querySelector("p").textContent = studentQuote.elev;
                    clone.querySelector(".quotation_begin").src = studentQuote.quotation_left.guid;
                    clone.querySelector(".quotation_end").src = studentQuote.quotation_right.guid;
                    dest1.appendChild(clone);
                }
                if (studentQuote.id == "297") {
                    let clone = tmpl2.cloneNode(true).content;
                    clone.querySelector("h3").textContent = studentQuote.citat;
                    clone.querySelector("p").textContent = studentQuote.elev;
                    clone.querySelector(".quotation_begin").src = studentQuote.quotation_left.guid;
                    clone.querySelector(".quotation_end").src = studentQuote.quotation_right.guid;
                    dest2.appendChild(clone);
                }
            })
        }


        //done
        // Henter alle fagene
        async function getTheCourse() {
            console.log("getTheCourse");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/fag?tags";
            let jsonData = await fetch(url);
            theCourse = await jsonData.json();
            console.log(theCourse);
            showTheCourses(theCourse);
        }

        function showTheCourses(courses) {
            console.log(courses);

            courses.forEach(course => {
                const clone = tmpl1.cloneNode(true);
                clone.querySelector("img").src = course.billede_1.guid;
                clone.querySelector("h3").textContent = course.title.rendered;
                courseElm.appendChild(clone);
            })

        }

        //done og ok for vinter
        // Henter WP pagen Højskole skema
        async function getThePageSchedule() {
            console.log("getThePageSchedule");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/339";
            let jsonData = await fetch(url);
            let json = await jsonData.json();
            showPageSchedule(json);
        }

        function showPageSchedule(data) {
            console.log(data);
            document.querySelector("#schedule").innerHTML = data.content.rendered;
        }

        //done
        // Henter WP pagen Højskole rejser
        async function getThePageTravel() {
            console.log("getThePageTravel");
            let url = "http://mortengross.dk/kea/09_cms/09_05_03_ihs/wordpress/wp-json/wp/v2/pages/285";
            let jsonData = await fetch(url);
            let json = await jsonData.json();
            showPageTravel(json);
        }

        function showPageTravel(data) {
            console.log(data);
            document.querySelector("#travel_content").innerHTML = data.content.rendered;
        }
    </script>
</body></html>
